@using Online_book_shop.Models;
@{
    ViewBag.Title = "Index";
    List<Voucher> codes = ViewBag.ActiveVouchers;
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<h1>Vouchers</h1>

<table class="table">
    <thead>
        <tr>
            <th colspan="3" scope="col"><input class="col-lg-12" id="searchInput" type="text" placeholder="Search.."></th>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col"><a href="/Admin/Voucher/Create" class="btn btn-info">New VoucherCode</a></th>
        </tr>
    </thead>
    <thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Code</th>
            <th scope="col">Amount</th>
            <th scope="col">Maximum Usage</th>
            <th scope="col">Currently Used</th>
            <th scope="col">Remaining</th>
            <th scope="col">Operation</th>
        </tr>
    </thead>
    <tbody>
        @foreach (Voucher v in codes)
        {
        <tr class="author-card">
            <th scope="row">@v.Id</th>
            <td>@v.Code</td>
            <td>@v.VoucherAmount</td>
            <td>@v.NumberOfValidCodes</td>
            <td>@v.NumberOfUsedCodes</td>
            <td>@(v.NumberOfValidCodes - v.NumberOfUsedCodes)</td>
            <td>
                @*<a href="/Admin/Voucher/Edit/@v.Id" class="btn-sm btn-info">Edit</a>*@
                @if (v.isDeleted)
                {
                    <a href="/Admin/Voucher/ShowItem/@v.Id" class="btn-sm btn-warning">Enable</a>
                }
                else
                {
                    <a href="/Admin/Voucher/HideItem/@v.Id" class="btn-sm btn-danger">Dissable</a>
                }
            </td>
        </tr>
        }

    </tbody>
</table>

